/* Avatar Component
 * Displays user profile images with fallback initials, status indicators, and badges
 */

.c-avatar {
	--avatar-size: 2.5rem; /* Default: md */
	--avatar-border-radius: 50%;
	--avatar-bg: var(--col-primary);
	--avatar-color: var(--col-on-primary);
	--avatar-font-size: calc(var(--avatar-size) / 2.5);

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: var(--avatar-size);
	height: var(--avatar-size);
	border-radius: var(--avatar-border-radius);
	background: var(--avatar-bg);
	color: var(--avatar-color);
	font-size: var(--avatar-font-size);
	font-weight: 600;
	line-height: 1;
	user-select: none;
	flex-shrink: 0;

	& img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		overflow: hidden;
		border-radius: inherit;
	}
}

/* Size variants */
.c-avatar.xs {
	--avatar-size: 1.5rem;
}

.c-avatar.sm {
	--avatar-size: 2rem;
}

.c-avatar.md {
	--avatar-size: 2.5rem;
}

.c-avatar.lg {
	--avatar-size: 3rem;
}

.c-avatar.xl {
	--avatar-size: 4rem;
}

/* Shape variants */
.c-avatar.square {
	--avatar-border-radius: 0;
}

.c-avatar.rounded {
	--avatar-border-radius: 0.5rem;
}

/* Status indicator */
.c-avatar-status {
	position: absolute;
	bottom: 0;
	right: 0;
	width: 25%;
	height: 25%;
	border-radius: 50%;
	border: calc(var(--avatar-size) / 16) solid var(--col-surface);
	background: var(--col-neutral);

	&.online {
		background: var(--col-success);
	}

	&.offline {
		background: var(--col-neutral-m1);
	}

	&.busy {
		background: var(--col-error);
	}

	&.away {
		background: var(--col-warning);
	}
}

/* Badge (notification count) */
.c-avatar-badge {
	position: absolute;
	top: -0.25rem;
	right: -0.25rem;
	min-width: 1.25rem;
	height: 1.25rem;
	padding: 0 0.25rem;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: 0.625rem;
	background: var(--col-error);
	color: var(--col-on-error);
	font-size: 0.75rem;
	font-weight: 600;
	line-height: 1;
	border: calc(2rem / 16) solid var(--col-surface);
}

/* Ring/border for active states */
.c-avatar.ring {
	box-shadow: 0 0 0 calc(2rem / 16) var(--col-primary);
}

.c-avatar.ring-secondary {
	box-shadow: 0 0 0 calc(2rem / 16) var(--col-secondary);
}

.c-avatar.ring-success {
	box-shadow: 0 0 0 calc(2rem / 16) var(--col-success);
}

/* Avatar group - overlapping stack */
.c-avatar-group {
	display: inline-flex;
	flex-direction: row;

	& .c-avatar {
		margin-left: calc(var(--avatar-size) / -4);
		border: calc(2rem / 16) solid var(--col-surface);
		transition: transform 0.2s, z-index 0s;

		&:first-child {
			margin-left: 0;
		}

		&:hover {
			transform: translateY(-0.25rem);
			z-index: 10;
		}
	}

	/* Reverse stacking order */
	&.reverse {
		flex-direction: row-reverse;

		& .c-avatar {
			margin-left: 0;
			margin-right: calc(var(--avatar-size) / -4);

			&:first-child {
				margin-right: 0;
			}
		}
	}
}

/* vim: ts=4
 */
